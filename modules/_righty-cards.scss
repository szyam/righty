// * R I G H T Y  C A R D S *
//
// card-count located in _vars.scss

[class*="righty-cards-"] {
	@include clearfix();
	padding:2em 0;
}

@media (min-width: $medium) {
    @for $i from 2 through $card-count {      
        .righty-cards-#{$i} .righty-card {
            width: 50%;
            padding-bottom: 50%; 
        }           
    }   
} //mq

@media (min-width: $large) {
    @for $i from 2 through $card-count {      
        .righty-cards-#{$i} .righty-card {
            width: 100% / $i;
            padding-bottom: 100% / $i; 
        }           
    }   
} //mq


/* entire container, keeps perspective */
.righty-card {
	width: 100%;
	padding-bottom: 100%;
	float: left;
	border: 1px solid transparent;
	perspective: 1000;
	-webkit-transform-style: preserve-3d;
       -moz-transform-style: preserve-3d;
            transform-style: preserve-3d;
    transition: $anime;
  //   @media (min-width: $large) {
  //   	width: 25%;
		// padding-bottom: 25%;
  //   }

	&:hover .back {
		transform: rotateY(0deg);
		transition:0.5s 0.1s; // added to add small offset to cards transition
	}
	&:hover .front {
	    transform: rotateY(180deg);
	    transition:0.5s 0.1s;
	}

	.front, .back {
		width: 100%;
		height: 100%;
	}

}

/* flip speed goes here */
.flip {
	transition: $trans-speed;
	transform-style: preserve-3d;

	width: 100%;
    height: 100%;
    position: absolute;
}

/* hide back of pane during swap */
.front, .back {
	backface-visibility: hidden;
	transition: 0.5s;
	transform-style: preserve-3d;

	position: absolute;
	top: 0;
	left: 0;

	padding: 1rem;
	.card-content {
		position: absolute;
  		top: 50%;
  		transform: translateY(-50%);
  		max-height: 100%;
  		&.scroll {
  			overflow: auto;
  			padding: 1em 0;
  		}
	}
}

.front {
	z-index: 2;
	transform: rotateY(0deg);
	background-color: rgba(255,255,255,0.9);
}

/* back, initially hidden pane */
.back {
	transform: rotateY(-180deg);
	background-color: $primary;
	color: $light;
}

.righty-card {
	&:nth-child(2) {
		.back {
			background-color: $dark;
		}
	}
	&:nth-child(3) {
		.back {
			background-color: $action;
		}
	}
	&:nth-child(4) {
		.back {
			background-color: $muted;
		}
	}
}